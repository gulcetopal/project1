<!DOCTYPE html>
<html class="js" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="https://gmpg.org/xfn/11">
		<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/reactive_library_fy2019.js"></script><script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/cookie.js"></script><script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/show_ads_impl_with_ama_fy2019.js" id="google_shimpl"></script><script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>How to Publish Wheel Encoder Tick Data Using ROS and Arduino – Automatic Addison</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link href="https://fonts.gstatic.com/" crossorigin="" rel="preconnect">
<link rel="alternate" type="application/rss+xml" title="Automatic Addison » Feed" href="https://automaticaddison.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Automatic Addison » Comments Feed" href="https://automaticaddison.com/comments/feed/">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/automaticaddison.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.9.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
</script><script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
<style>
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="wp-block-library-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/style_003.css" media="all">
<style id="wp-block-library-theme-inline-css">
.wp-block-audio figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio figcaption{color:hsla(0,0%,100%,.65)}.wp-block-code>code{font-family:Menlo,Consolas,monaco,monospace;color:#1e1e1e;padding:.8em 1em;border:1px solid #ddd;border-radius:4px}.wp-block-embed figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed figcaption{color:hsla(0,0%,100%,.65)}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:hsla(0,0%,100%,.65)}.wp-block-image figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-image figcaption{color:hsla(0,0%,100%,.65)}.wp-block-pullquote{border-top:4px solid;border-bottom:4px solid;margin-bottom:1.75em;color:currentColor}.wp-block-pullquote__citation,.wp-block-pullquote cite,.wp-block-pullquote footer{color:currentColor;text-transform:uppercase;font-size:.8125em;font-style:normal}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;position:relative;font-style:normal}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-group:where(.has-background){padding:1.25em 2.375em}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto;opacity:.4}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table thead{border-bottom:3px solid}.wp-block-table tfoot{border-top:3px solid}.wp-block-table td,.wp-block-table th{padding:.5em;border:1px solid;word-break:normal}.wp-block-table figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video figcaption{color:hsla(0,0%,100%,.65)}.wp-block-template-part.has-background{padding:1.25em 2.375em;margin-top:0;margin-bottom:0}
</style>
<style id="global-styles-inline-css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--dark-gray: #1a1a1a;--wp--preset--color--medium-gray: #686868;--wp--preset--color--light-gray: #e5e5e5;--wp--preset--color--blue-gray: #4d545c;--wp--preset--color--bright-blue: #007acc;--wp--preset--color--light-blue: #9adffd;--wp--preset--color--dark-brown: #402b30;--wp--preset--color--medium-brown: #774e24;--wp--preset--color--dark-red: #640c1f;--wp--preset--color--bright-red: #ff675f;--wp--preset--color--yellow: #ffef8e;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel="stylesheet" id="ez-icomoon-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/style.css" media="all">
<link rel="stylesheet" id="ez-toc-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/screen.css" media="all">
<style id="ez-toc-inline-css">
div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}
</style>
<link rel="stylesheet" id="twentysixteen-fonts-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/css.css" media="all">
<link rel="stylesheet" id="genericons-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/genericons.css" media="all">
<link rel="stylesheet" id="twentysixteen-style-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/style_002.css" media="all">
<link rel="stylesheet" id="twentysixteen-block-style-css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/blocks.css" media="all">
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://automaticaddison.com/wp-content/themes/twentysixteen/css/ie.css?ver=20170530' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://automaticaddison.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20170530' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://automaticaddison.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20170530' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script src='https://automaticaddison.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3' id='twentysixteen-html5-js'></script>
<![endif]-->
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jquery_002.js" id="jquery-core-js"></script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jquery-migrate.js" id="jquery-migrate-js"></script>
<link rel="https://api.w.org/" href="https://automaticaddison.com/wp-json/"><link rel="alternate" type="application/json" href="https://automaticaddison.com/wp-json/wp/v2/posts/11324"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://automaticaddison.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://automaticaddison.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.9.2">
<link rel="canonical" href="https://automaticaddison.com/how-to-publish-wheel-encoder-tick-data-using-ros-and-arduino/">
<link rel="shortlink" href="https://automaticaddison.com/?p=11324">
<link rel="alternate" type="application/json+oembed" href="https://automaticaddison.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fautomaticaddison.com%2Fhow-to-publish-wheel-encoder-tick-data-using-ros-and-arduino%2F">
<link rel="alternate" type="text/xml+oembed" href="https://automaticaddison.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fautomaticaddison.com%2Fhow-to-publish-wheel-encoder-tick-data-using-ros-and-arduino%2F&amp;format=xml">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/js.js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C1QETSMKQE');
</script>
<script async="" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/adsbygoogle.js" crossorigin="anonymous" data-checked-head="true"></script><link rel="icon" href="https://automaticaddison.com/wp-content/uploads/2018/11/cropped-favicon-32x32.png" sizes="32x32">
<link rel="icon" href="https://automaticaddison.com/wp-content/uploads/2018/11/cropped-favicon-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://automaticaddison.com/wp-content/uploads/2018/11/cropped-favicon-180x180.png">
<meta name="msapplication-TileImage" content="https://automaticaddison.com/wp-content/uploads/2018/11/cropped-favicon-270x270.png">
		<style id="wp-custom-css">
			pre, code{
	direction: ltr;
	text-align: left;
}
pre {
	border: 1px solid #eaecf0;
	font-size: 1.1em; 
 	color: #000000; 
	margin:  10px; 
	padding:  10px; 
	background-color: #f8f9fa;}
code {
	font-size: 1.1em; 
	color: #000000;	
  background-color: #f8f9fa;}
.wp-block-code {
  color: #000000;
  background-color: #f8f9fa;
  border: 1px solid #eaecf0;
  padding: 1em;
  white-space: pre-wrap;
}
[class^="wp-block-"] figcaption {
  text-align: center;
}
img {
  border: 2px solid #eeeeee;
  padding: 2px;
  margin: 3px;
}
/*
.cat-links {
  display: none !important;
}
.tags-links {
  display: none !important;
}
*/
.custom-logo {
  border: none;
}
#buttonaddtocart{
  background:    #cc6570;
  border:        1px solid #848484;
  border-radius: 4px;
  padding:       20px 45px;
  color:         #ffffff;
  display:       inline-block;
  font:          normal bold 20px/1 "Open Sans", sans-serif;
  text-align:    center;
	text-transform:capitalize;
}
#buttonaddtocart:hover {
  background-color: #7d3840;
  color: white;
}
#buttonbuynow{
  background:    #ffffff;
  border:        1px solid #848484;
  border-radius: 4px;
  padding:       20px 45px;
  color:         #848484;
  display:       inline-block;
  font:          normal bold 20px/1 "Open Sans", sans-serif;
  text-align:    center;
	text-transform:capitalize;
}
#buttonbuynow:hover {
  color: black;
  border:        1px solid #000000;
}
#container{
    text-align: center;
	  padding-bottom: 10px;
}		</style>
		<link rel="stylesheet" type="text/css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/shCore.css"><link rel="stylesheet" type="text/css" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/shThemeDefault.css"><meta http-equiv="origin-trial" content="AxujKG9INjsZ8/gUq8+dTruNvk7RjZQ1oFhhgQbcTJKDnZfbzSTE81wvC2Hzaf3TW4avA76LTZEMdiedF1vIbA4AAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="Azuce85ORtSnWe1MZDTv68qpaW3iHyfL9YbLRy0cwcCZwVnePnOmkUJlG8HGikmOwhZU22dElCcfrfX2HhrBPAkAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A16nvcdeoOAqrJcmjLRpl1I6f3McDD8EfofAYTt/P/H4/AWwB99nxiPp6kA0fXoiZav908Z8etuL16laFPUdfQsAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxBHdr0J44vFBQtZUqX9sjiqf5yWZ/OcHRcRMN3H9TH+t90V/j3ENW6C8+igBZFXMJ7G3Pr8Dd13632aLng42wgAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A88BWHFjcawUfKU3lIejLoryXoyjooBXLgWmGh+hNcqMK44cugvsI5YZbNarYvi3roc1fYbHA1AVbhAtuHZflgEAAAB2eyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IlRydXN0VG9rZW5zIiwiZXhwaXJ5IjoxNjUyNzc0NDAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A8FHS1NmdCwGqD9DwOicnHHY+y27kdWfxKa0YHSGDfv0CSpDKRHTQdQmZVPDUdaFWUsxdgVxlwAd6o+dhJykPA0AAACWeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="A8zdXi6dr1hwXEUjQrYiyYQGlU3557y5QWDnN0Lwgj9ePt66XMEvNkVWOEOWPd7TP9sBQ25X0Q15Lr1Nn4oGFQkAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="A4/Htern2udN9w3yJK9QgWQxQFruxOXsXL7cW60DyCl0EZFGCSme/J33Q/WzF7bBkVvhEWDlcBiUyZaim5CpFQwAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator_002.js"></script><link rel="preload" href="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js" as="script"><script type="text/javascript" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/integrator.js"></script></head>

<body class="post-template-default single single-post postid-11324 single-format-standard wp-custom-logo wp-embed-responsive" aria-hidden="false" style="padding: 0px 0px 154px;">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0 0.49803921568627"></feFuncR><feFuncG type="table" tableValues="0 0.49803921568627"></feFuncG><feFuncB type="table" tableValues="0 0.49803921568627"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0 1"></feFuncR><feFuncG type="table" tableValues="0 1"></feFuncG><feFuncB type="table" tableValues="0 1"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0.54901960784314 0.98823529411765"></feFuncR><feFuncG type="table" tableValues="0 1"></feFuncG><feFuncB type="table" tableValues="0.71764705882353 0.25490196078431"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0 1"></feFuncR><feFuncG type="table" tableValues="0 0.27843137254902"></feFuncG><feFuncB type="table" tableValues="0.5921568627451 0.27843137254902"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0 0"></feFuncR><feFuncG type="table" tableValues="0 0.64705882352941"></feFuncG><feFuncB type="table" tableValues="0 1"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0.78039215686275 1"></feFuncR><feFuncG type="table" tableValues="0 0.94901960784314"></feFuncG><feFuncB type="table" tableValues="0.35294117647059 0.47058823529412"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0.65098039215686 0.40392156862745"></feFuncR><feFuncG type="table" tableValues="0 1"></feFuncG><feFuncB type="table" tableValues="0.44705882352941 0.4"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="table" tableValues="0.098039215686275 1"></feFuncR><feFuncG type="table" tableValues="0 0.66274509803922"></feFuncG><feFuncB type="table" tableValues="0.84705882352941 0.41960784313725"></feFuncB><feFuncA type="table" tableValues="1 1"></feFuncA></feComponentTransfer><feComposite in2="SourceGraphic" operator="in"></feComposite></filter></defs></svg><div id="page" class="site" style="height: auto !important;">
	<div class="site-inner" style="height: auto !important;">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header">
			<div class="site-header-main">
				<div class="site-branding">
					<a href="https://automaticaddison.com/" class="custom-logo-link" rel="home"><img src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/cropped-logo_sq_240.png" class="custom-logo" alt="Automatic Addison" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/cropped-logo_sq_240.png 240w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/cropped-logo_sq_240-150x150.png 150w" sizes="(max-width: 240px) 85vw, 240px" width="240" height="240"></a>
											<p class="site-title"><a href="https://automaticaddison.com/" rel="home">Automatic Addison</a></p>
												<p class="site-description">Build the Future</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-32" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-32"><a href="https://automaticaddison.com/">Home</a></li>
<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="https://automaticaddison.com/about-me/">About Me</a></li>
<li id="menu-item-7921" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7921"><a href="https://automaticaddison.com/contact/">Contact Me</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
													<nav id="social-navigation" class="social-navigation" aria-label="Social Links Menu">
								<div class="menu-social-links-container"><ul id="menu-social-links" class="social-links-menu"><li id="menu-item-37" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-37"><a href="https://www.linkedin.com/in/addisonsearscollins/"><span class="screen-reader-text">LinkedIn</span></a></li>
<li id="menu-item-65" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-65"><a href="https://www.youtube.com/channel/UCyR7hy8XDVnqzBhdpRirOtg"><span class="screen-reader-text">YouTube</span></a></li>
</ul></div>							</nav><!-- .social-navigation -->
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content" style="height: auto !important;">

<div id="primary" class="content-area" style="height: auto !important;">
	<main id="main" class="site-main" style="height: auto !important;">
		
<article id="post-11324" class="post-11324 post type-post status-publish format-standard has-post-thumbnail hentry category-robotics tag-ground" style="height: auto !important;">
	<header class="entry-header">
		<h1 class="entry-title">How to Publish Wheel Encoder Tick Data Using ROS and Arduino</h1>	</header><!-- .entry-header -->

	
	
		<div class="post-thumbnail">
			<img src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-12_003.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="2021-05-11-12.48.52" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-12_003.jpg 1200w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-12_004.jpg 300w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-12.jpg 1024w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-12_002.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 60vw, (max-width: 1362px) 62vw, 840px" width="1200" height="900">	</div><!-- .post-thumbnail -->

	
	<div class="entry-content" style="height: auto !important;">
		
<p>In this tutorial, we will create a program <a href="https://www.ros.org/">using ROS</a> and <a href="https://www.arduino.cc/">Arduino</a> to publish the <a href="https://automaticaddison.com/calculate-pulses-per-revolution-for-a-dc-motor-with-encoder/">tick data from the encoders</a> of each motor of a two-wheeled robot.&nbsp;</p>



<p>The microcontroller we will use is the <a href="https://developer.nvidia.com/embedded/jetson-nano-developer-kit">Nvidia Jetson Nano</a>, but you can also use an Ubuntu-enabled Raspberry Pi.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_1_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_1_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0;width:600px !IMPORTANT;height:280px !IMPORTANT" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/ads.html" data-google-container-id="a!2" data-google-query-id="CKynq5ax-PYCFdX37QodZqIJTQ" data-load-complete="true" width="600" height="280" frameborder="0"></iframe></ins></ins></ins></div>



<p>We will interface Arduino with ROS so we can publish the tick counts for the left wheel and right wheel to <a href="https://automaticaddison.com/create-a-hello-world-project-in-ros/">ROS topics</a>. The name of this node will be <strong>tick_publisher</strong>.</p>



<div id="ez-toc-container" class="ez-toc-v2_0_17 counter-hierarchy ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle" style="display: inline;"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list ez-toc-list-level-1"><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-1" href="#Why_Publish_Wheel_Encoder_Tick_Data" title="Why Publish Wheel Encoder Tick Data">Why Publish Wheel Encoder Tick Data</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-2" href="#Real-World_Applications" title="Real-World Applications">Real-World Applications</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-3" href="#Prerequisites" title="Prerequisites">Prerequisites</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-4" href="#You_Will_Need" title="You Will Need">You Will Need</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-5" href="#Install_Arduino_on_Your_Jetson_Nano" title="Install Arduino on Your Jetson Nano">Install Arduino on Your Jetson Nano</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-6" href="#Integrate_Arduino_With_ROS" title="Integrate Arduino With ROS&nbsp;">Integrate Arduino With ROS&nbsp;</a><ul class="ez-toc-list-level-2"><li class="ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-7" href="#Getting_Started" title="Getting Started">Getting Started</a></li><li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-8" href="#Blink_an_LED_on_the_Arduino_Using_ROS" title="Blink an LED on the Arduino Using ROS">Blink an LED on the Arduino Using ROS</a></li></ul></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-9" href="#Create_a_Tick_Publisher_Node" title="Create a Tick Publisher Node">Create a Tick Publisher Node</a><ul class="ez-toc-list-level-2"><li class="ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-10" href="#Set_Up_the_Hardware" title="Set Up the Hardware">Set Up the Hardware</a></li><li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-11" href="#Write_the_Code" title="Write the Code">Write the Code</a></li><li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-12" href="#Convert_the_Code_to_a_ROS_Node" title="Convert the Code to a ROS Node">Convert the Code to a ROS Node</a></li><li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-13" href="#Run_the_Tick_Publisher" title="Run the Tick Publisher">Run the Tick Publisher</a></li><li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-14" href="#Create_a_Launch_File" title="Create a Launch File">Create a Launch File</a></li></ul></li></ul></nav></div>
<h1><span class="ez-toc-section" id="Why_Publish_Wheel_Encoder_Tick_Data"></span>Why Publish Wheel Encoder Tick Data<span class="ez-toc-section-end"></span></h1>



<p>Tick data from wheel encoders helps us determine how much each wheel 
(both the left and right wheels) has rotated. Since we know the radius 
of each wheel, we can use the tick data and the wheel radius data to 
determine the distance traveled by each wheel. Here is the equation for 
that:&nbsp;</p>



<p><strong>Distance a wheel has traveled = 2 * pi * radius of the wheel * (number of ticks / number of ticks per revolution)</strong></p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_2_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_2_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0;width:600px !IMPORTANT;height:280px !IMPORTANT" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/ads.html" data-google-container-id="a!3" data-google-query-id="COv5rJax-PYCFdLG7QodohMIOQ" data-load-complete="true" width="600" height="280" frameborder="0"></iframe></ins></ins></ins></div>



<p>Knowing the distance traveled by each wheel helps us determine where 
the robot is located in its environment relative to some starting 
location. This process is known as <a href="https://en.wikipedia.org/wiki/Odometry"><strong>odometry</strong></a>.&nbsp;</p>



<p>The first time you were exposed to the word “odometry” was likely 
when you began driving a car. Right behind your steering wheel is 
typically your <a href="https://en.wikipedia.org/wiki/Odometer">odometer</a>.
 The odometer of your car measures the distance traveled by the vehicle 
relative to some starting point where the car was first driven. Odometry
 in robotics works the same way.</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/odometer_car_dashboard.jpg" alt="odometer_car_dashboard" class="wp-image-11326" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/odometer_car_dashboard.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/odometer_car_dashboard-300x225.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"><figcaption>A typical odometer on a car’s dashboard</figcaption></figure></div>



<h1><span class="ez-toc-section" id="Real-World_Applications"></span>Real-World Applications<span class="ez-toc-section-end"></span></h1>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-13-20.jpg" alt="2021-05-13-20.47.13" class="wp-image-11363" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-13-20.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-13-20_002.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"><figcaption>You
 can see that a robotic vacuum cleaner has the same two-wheeled 
differential drive setup as the robot I’m currently working with in this
 tutorial.</figcaption></figure></div>



<p>This project has a number of real-world applications:&nbsp;</p>



<ul><li>Indoor Delivery Robots</li><li>Room Service Robots</li><li>Mapping of Underground Mines, Caves, and Hard-to-Reach Environments</li><li>Robot Vacuums</li><li>Order Fulfillment</li><li>Factories</li></ul>



<h1><span class="ez-toc-section" id="Prerequisites"></span>Prerequisites<span class="ez-toc-section-end"></span></h1>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-19.jpg" alt="2021-05-11-19.38.06" class="wp-image-11368" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-19.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-19_002.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<ul><li>You have a robot that runs on DC motors. My robot consists of pieces I took from the <a href="https://amzn.to/3mqcPUd">Osoyoo self-balancing robot car kit</a> (which contains the <a href="https://amzn.to/3tiX1VR">12V 333 RPM JGB37-520B motor with wheels</a>.) I also am using the caster wheel from <a href="https://automaticaddison.com/how-to-build-a-multi-obstacle-avoiding-robot-using-arduino">this two wheel drive robot kit</a>.</li><li>I won’t teach how to put all the parts together in this tutorial, so it is helpful if you have built a basic <a href="https://automaticaddison.com/how-to-build-a-basic-wheeled-robot-base/">wheeled robot</a> before.&nbsp;</li><li>You have already <a href="https://automaticaddison.com/how-to-set-up-the-nvidia-jetson-nano-developer-kit/">set up your NVIDIA Jetson Nano</a> (4GB, B01) <a href="https://automaticaddison.com/how-to-install-ros-melodic-on-the-nvidia-jetson-nano/">with ROS</a>.</li><li>Although
 not required at this stage, if you want your robot to perform 
autonomous navigation, eventually you will want to know how many ticks 
(i.e. pulses) are generated in one full revolution of your motor. To 
calculate this value for your motors, <a href="https://automaticaddison.com/calculate-pulses-per-revolution-for-a-dc-motor-with-encoder/">follow this tutorial</a>. For the DC motors I’m using, there are 620 ticks per revolution.</li></ul>



<h1><span class="ez-toc-section" id="You_Will_Need"></span>You Will Need<span class="ez-toc-section-end"></span></h1>



<ul><li><a href="https://amzn.to/34twng5">Arduino Uno</a> (Elegoo Uno works just fine and is cheaper than the regular Arduino)</li></ul>



<h1><span class="ez-toc-section" id="Install_Arduino_on_Your_Jetson_Nano"></span>Install Arduino on Your Jetson Nano<span class="ez-toc-section-end"></span></h1>



<p>To get started, turn on your Jetson Nano.</p>



<p>Let’s download the Arduino IDE (you’ll have to download the Arduino 
IDE directly from the Arduino website if you are using Ubuntu on the 
Raspberry Pi).</p>



<p>Open a new terminal window, and type the following commands, one right after the other.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_3_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_3_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;border:0;width:600px !IMPORTANT;height:280px !IMPORTANT" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/ads.html" data-google-container-id="a!4" data-google-query-id="CI2Rk6ix-PYCFdDW7QodkuwKHw" data-load-complete="true" width="600" height="280" frameborder="0"></iframe></ins></ins></ins></div>



<pre class="wp-block-preformatted">git clone https://github.com/JetsonHacksNano/installArduinoIDE.git</pre>



<pre class="wp-block-preformatted">cd installArduinoIDE</pre>



<pre class="wp-block-preformatted">./installArduinoIDE.sh</pre>



<p>We are installing the Linux ARM 64 bits version.</p>



<p>Wait a few moments, and then reboot your computer.</p>



<pre class="wp-block-preformatted">sudo reboot</pre>



<p>When you restart your computer, you will see an Arduino icon on the desktop of your Jetson Nano.</p>



<p>Open a new terminal window, and shut down your Jetson Nano.</p>



<pre class="wp-block-preformatted">sudo shutdown -h now</pre>



<p>Plug the Arduino into the USB port of your Jetson Nano.</p>



<p>Turn on your Jetson Nano.</p>



<p>Open the Arduino IDE by double-clicking the icon on the desktop of your Jetson Nano.</p>



<p>Go to<strong> Tools -&gt; Board</strong>, and select <strong>Arduino/Genuino Uno</strong>.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_4_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_4_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_4" name="aswift_4" style="left:0;position:absolute;top:0;border:0;width:600px !IMPORTANT;height:280px !IMPORTANT" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/ads.html" data-google-container-id="a!5" data-google-query-id="CI2l46qx-PYCFcPi7Qod6jwHTQ" data-load-complete="true" width="600" height="280" frameborder="0"></iframe></ins></ins></ins></div>



<p>Go to <strong>Tools -&gt; Port</strong>, and select the Serial port that is connected to your Arduino/Genuino Uno. In my case, it is <strong>/dev/ttyACM0</strong>.</p>



<p>Now open the Blink sketch again. Go to <strong>File – &gt; Examples -&gt; 01.Basics</strong>, and choose <strong>Blink</strong>.</p>



<p>Click the Upload button…the right arrow in the upper left of your screen.</p>



<p>The LED on your Arduino should be blinking! If it is not, go back to 
the beginning of this tutorial and follow the steps carefully.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_5_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_5_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_5" name="aswift_5" style="left:0;position:absolute;top:0;border:0;width:600px !IMPORTANT;height:280px !IMPORTANT" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/ads.html" data-google-container-id="a!6" data-google-query-id="CMrPp42V-vYCFdBIHQkdpXcPYA" data-load-complete="true" width="600" height="280" frameborder="0"></iframe></ins></ins></ins></div>



<p>To turn off the blinking light, open up a new sketch (Go to <strong>File -&gt; New</strong>), and upload it to your board.</p>



<h1><span class="ez-toc-section" id="Integrate_Arduino_With_ROS"></span>Integrate Arduino With ROS&nbsp;<span class="ez-toc-section-end"></span></h1>



<h2><span class="ez-toc-section" id="Getting_Started"></span>Getting Started<span class="ez-toc-section-end"></span></h2>



<p>Now that we know Arduino is working, we need to integrate it with ROS. <a href="http://wiki.ros.org/rosserial_arduino/Tutorials/Arduino%20IDE%20Setup">Here are the official instructions</a>. I’ll walk you through the steps below.</p>



<p>Let’s install the necessary packages.&nbsp;</p>



<p>Quit the Arduino IDE. Then type the following commands in a new 
terminal window (this software will take a while to download so be 
patient):</p>



<pre class="wp-block-preformatted">sudo apt-get install ros-melodic-rosserial-arduino</pre>



<pre class="wp-block-preformatted">sudo apt-get install ros-melodic-rosserial</pre>



<p>Open the IDE and go to <strong>File -&gt; Preferences</strong>. Make a note of the Sketchbook location. Mine is:</p>



<p><strong>/home/automaticaddison/Arduino</strong></p>



<p>Quit the Arduino IDE.</p>



<p>Open a new terminal window, and go to the sketchbook location you noted above. I’ll type:</p>



<pre class="wp-block-preformatted">cd Arduino</pre>



<p>Type the dir command to see the list of folders.</p>



<pre class="wp-block-preformatted">dir</pre>



<p>Go to the libraries directory.</p>



<pre class="wp-block-preformatted">cd libraries</pre>



<pre class="wp-block-preformatted">rm -rf ros_lib</pre>



<p>Within that directory, run the following command to build the Arduino
 library that will be used by ROS (don’t leave out that period that 
comes at the end of the command):</p>



<pre class="wp-block-preformatted">rosrun rosserial_arduino make_libraries.py .</pre>



<p>Type the dir command to see the list of folders. You should now see the ros_lib library.</p>



<pre class="wp-block-preformatted">dir</pre>



<p>Make sure the Arduino IDE is closed. Now open it again.</p>



<h2><span class="ez-toc-section" id="Blink_an_LED_on_the_Arduino_Using_ROS"></span>Blink an LED on the Arduino Using ROS<span class="ez-toc-section-end"></span></h2>



<p>In this example, Arduino is going to be considered a Subscriber node. It will subscribe to a topic called <strong>toggle_led</strong>.
 Publishing a message to that topic causes the LED to turn on. 
Publishing a message to the topic again causes the LED to turn 
off.&nbsp;</p>



<p>Go to <strong>File -&gt; Examples -&gt; ros_lib </strong>and open the <strong>Blink</strong> sketch.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done"><ins id="aswift_6_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_6_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block;"></ins></ins></ins></div>



<p>Before the <strong>nh.initNode(); </strong>line, add the following code:</p>



<p><strong>nh.getHardware()-&gt;setBaud(115200);</strong></p>



<p>Now we need to upload the code to Arduino. Make sure your Arduino is 
plugged into the USB port on your Jetson Nano (or whatever 
microcontroller you are using).</p>



<p>Upload the code to your Arduino using the right arrow button in the 
upper left of your screen. When you upload the code, your Arduino should
 flicker a little bit.</p>



<p><em>Note: I created a new Arduino sketch and saved it to 
/home/automaticaddison/Documents as “blink_ros_arduino_test”. This is 
not required.</em></p>



<p>Quit the Arduino IDE.</p>



<p>Open a new terminal window and type:</p>



<pre class="wp-block-preformatted">roscore</pre>



<p>In a new terminal window, launch the ROS serial server. This command is explained <a href="http://wiki.ros.org/rosserial_python#serial_node.py">here on the ROS website</a>. It is necessary to complete the integration between ROS and Arduino:</p>



<pre class="wp-block-preformatted">cd ~/catkin_ws</pre>



<pre class="wp-block-preformatted">rosrun rosserial_python serial_node.py _port:=/dev/ttyACM0 _baud:=115200</pre>



<p>Now let’s turn on the LED by publishing a single empty message to the<strong> /toggle_led</strong> topic. Open a new terminal window and type:</p>



<pre class="wp-block-preformatted">rostopic pub toggle_led std_msgs/Empty --once</pre>



<p>The LED on the Arduino should turn on.&nbsp;</p>



<p>Now <strong>press the Up arrow </strong>in the terminal and <strong>press ENTER</strong>
 to run this code again. You should see the LED turn off. You might also
 see a tiny yellow light blinking as well. Just ignore that one…you’re 
interested in the big yellow light that you’re able to turn off and on 
by publishing single messages to the /toggle_led topic.</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-16.jpg" alt="2021-05-11-16.05.51" class="wp-image-11338" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-16.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-16_004.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-16_002.jpg" alt="2021-05-11-16.06.02" class="wp-image-11339" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-16_002.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-16_003.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<p>You can see the active topics by typing.</p>



<pre class="wp-block-preformatted">rostopic list</pre>



<p>Another good example to check out is a publisher and subscriber. You can see this by going to:</p>



<p><strong>File -&gt; Examples -&gt; ros_lib -&gt; pubsub</strong></p>



<p>This ROS node will blink an LED and publish a “Hello World” message to a topic named chatter.</p>



<p>That’s it! You have now seen how you can integrate Arduino with ROS. 
To turn off your Arduino, all you need to do is disconnect it after you 
shut down your Jetson Nano.</p>



<h1><span class="ez-toc-section" id="Create_a_Tick_Publisher_Node"></span>Create a Tick Publisher Node<span class="ez-toc-section-end"></span></h1>



<p>Now we want to write a tick publisher node. This ROS node will 
publish the accumulated tick count for the left and right motors of the 
robot at regular intervals.</p>



<h2><span class="ez-toc-section" id="Set_Up_the_Hardware"></span>Set Up the Hardware<span class="ez-toc-section-end"></span></h2>



<p>Let’s <a href="https://automaticaddison.com/how-to-calculate-the-velocity-of-a-dc-motor-with-encoder/">revisit this tutorial</a> to set up the hardware.</p>



<p>Here is the wiring diagram for the left motor:</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jgb37_dc_motor_with_encoder-2.jpg" alt="jgb37_dc_motor_with_encoder-2" class="wp-image-11015" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jgb37_dc_motor_with_encoder-2.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jgb37_dc_motor_with_encoder-2-300x169.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="338"></figure></div>



<ul><li>The Ground pin of the motor connects to GND of the Arduino. I’m 
using a 400-point solderless breadboard that I bought on Amazon.com to 
facilitate this connection.</li><li>Encoder A (sometimes labeled C1) of 
the motor connects to pin 2 of the Arduino. Pin 2 of the Arduino will 
record every time there is a rising digital signal from Encoder A.</li><li>Encoder
 B (sometimes labeled C2) of the motor connects to pin 4 of the Arduino.
 The signal that is read off pin 4 on the Arduino will determine if the 
motor is moving forward or in reverse. We’re not going to use this pin 
in this tutorial, but we will use it in a future tutorial.</li><li>The VCC pin of the motor connects to the 5V pin of the Arduino. This pin is responsible for providing power to the encoder.</li></ul>



<p>For the right motor:</p>



<ul><li>The Ground pin of the motor connects to GND of the Arduino.</li><li>Encoder
 A (sometimes labeled C1) of the motor connects to pin 3 of the Arduino.
 Pin 2 of the Arduino will record every time there is a rising digital 
signal from Encoder A.</li><li>Encoder B (sometimes labeled C2) of the 
motor connects to pin 11 of the Arduino. The signal that is read off pin
 11 on the Arduino will determine if the motor is moving forward or in 
reverse.&nbsp;</li><li>The VCC pin of the motor connects to the 5V pin of the Arduino. This pin is responsible for providing power to the encoder.</li></ul>



<h2><span class="ez-toc-section" id="Write_the_Code"></span>Write the Code<span class="ez-toc-section-end"></span></h2>



<p>Now we’re ready to calculate the accumulated ticks for each wheel.</p>



<p>Open the Arduino IDE, and write the following program. The name of my program is <strong>tick_counter.ino</strong>.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done"><ins id="aswift_7_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_7_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block;"></ins></ins></ins></div>


<div class="wp-block-syntaxhighlighter-code "><div><div id="highlighter_895713" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">/*</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* Author: Automatic Addison</code></div><div class="line number3 index2 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* Website: <a href="https://automaticaddison.com/">https://automaticaddison.com</a></code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* Description: Calculate the accumulated ticks for each wheel using the </code></div><div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* built-in encoder (forward = positive; reverse = negative) </code></div><div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">*/</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="cpp comments">// Encoder output to Arduino Interrupt pin. Tracks the tick count.</code></div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define ENC_IN_LEFT_A 2</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#define ENC_IN_RIGHT_A 3</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="cpp comments">// Other encoder output to Arduino to keep track of wheel direction</code></div><div class="line number13 index12 alt2"><code class="cpp comments">// Tracks the direction of rotation.</code></div><div class="line number14 index13 alt1"><code class="cpp preprocessor">#define ENC_IN_LEFT_B 4</code></div><div class="line number15 index14 alt2"><code class="cpp preprocessor">#define ENC_IN_RIGHT_B 11</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="cpp comments">// True = Forward; False = Reverse</code></div><div class="line number18 index17 alt1"><code class="cpp plain">boolean Direction_left = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number19 index18 alt2"><code class="cpp plain">boolean Direction_right = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="cpp comments">// Minumum and maximum values for 16-bit integers</code></div><div class="line number22 index21 alt1"><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">encoder_minimum = -32768;</code></div><div class="line number23 index22 alt2"><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">encoder_maximum = 32767;</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="cpp comments">// Keep track of the number of wheel ticks</code></div><div class="line number26 index25 alt1"><code class="cpp keyword bold">volatile</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">left_wheel_tick_count = 0;</code></div><div class="line number27 index26 alt2"><code class="cpp keyword bold">volatile</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">right_wheel_tick_count = 0;</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="cpp comments">// One-second interval for measurements</code></div><div class="line number30 index29 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">interval = 1000;</code></div><div class="line number31 index30 alt2"><code class="cpp color1 bold">long</code> <code class="cpp plain">previousMillis = 0;</code></div><div class="line number32 index31 alt1"><code class="cpp color1 bold">long</code> <code class="cpp plain">currentMillis = 0;</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">setup() {</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Open the serial port at 9600 bps</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">Serial.begin(9600); </code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Set pin states of the encoder</code></div><div class="line number40 index39 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_LEFT_A , INPUT_PULLUP);</code></div><div class="line number41 index40 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_LEFT_B , INPUT);</code></div><div class="line number42 index41 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_RIGHT_A , INPUT_PULLUP);</code></div><div class="line number43 index42 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_RIGHT_B , INPUT);</code></div><div class="line number44 index43 alt1">&nbsp;</div><div class="line number45 index44 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Every time the pin goes high, this is a tick</code></div><div class="line number46 index45 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">attachInterrupt(digitalPinToInterrupt(ENC_IN_LEFT_A), left_wheel_tick, RISING);</code></div><div class="line number47 index46 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">attachInterrupt(digitalPinToInterrupt(ENC_IN_RIGHT_A), right_wheel_tick, RISING);</code></div><div class="line number48 index47 alt1"><code class="cpp plain">}</code></div><div class="line number49 index48 alt2">&nbsp;</div><div class="line number50 index49 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">loop() {</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Record the time</code></div><div class="line number53 index52 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">currentMillis = millis();</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// If one second has passed, print the number of ticks</code></div><div class="line number56 index55 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(currentMillis - previousMillis &gt; interval) {</code></div><div class="line number57 index56 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number58 index57 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">previousMillis = currentMillis;</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Serial.println(</code><code class="cpp string">"Number of Ticks: "</code><code class="cpp plain">);</code></div><div class="line number61 index60 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Serial.println(right_wheel_tick_count);</code></div><div class="line number62 index61 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Serial.println(left_wheel_tick_count);</code></div><div class="line number63 index62 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Serial.println();</code></div><div class="line number64 index63 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number65 index64 alt2"><code class="cpp plain">}</code></div><div class="line number66 index65 alt1">&nbsp;</div><div class="line number67 index66 alt2"><code class="cpp comments">// Increment the number of ticks</code></div><div class="line number68 index67 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">right_wheel_tick() {</code></div><div class="line number69 index68 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number70 index69 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Read the value for the encoder for the right wheel</code></div><div class="line number71 index70 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">val = digitalRead(ENC_IN_RIGHT_B);</code></div><div class="line number72 index71 alt1">&nbsp;</div><div class="line number73 index72 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(val == LOW) {</code></div><div class="line number74 index73 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_right = </code><code class="cpp keyword bold">false</code><code class="cpp plain">; </code><code class="cpp comments">// Reverse</code></div><div class="line number75 index74 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number76 index75 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number77 index76 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_right = </code><code class="cpp keyword bold">true</code><code class="cpp plain">; </code><code class="cpp comments">// Forward</code></div><div class="line number78 index77 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number79 index78 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number80 index79 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Direction_right) {</code></div><div class="line number81 index80 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(right_wheel_tick_count == encoder_maximum) {</code></div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count = encoder_minimum;</code></div><div class="line number84 index83 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number85 index84 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number86 index85 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count++;&nbsp; </code></div><div class="line number87 index86 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp;&nbsp; </code></div><div class="line number88 index87 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number89 index88 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number90 index89 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(right_wheel_tick_count == encoder_minimum) {</code></div><div class="line number91 index90 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count = encoder_maximum;</code></div><div class="line number92 index91 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number93 index92 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count--;&nbsp; </code></div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number96 index95 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number97 index96 alt2"><code class="cpp plain">}</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="cpp comments">// Increment the number of ticks</code></div><div class="line number100 index99 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">left_wheel_tick() {</code></div><div class="line number101 index100 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number102 index101 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Read the value for the encoder for the left wheel</code></div><div class="line number103 index102 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">val = digitalRead(ENC_IN_LEFT_B);</code></div><div class="line number104 index103 alt1">&nbsp;</div><div class="line number105 index104 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(val == LOW) {</code></div><div class="line number106 index105 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_left = </code><code class="cpp keyword bold">true</code><code class="cpp plain">; </code><code class="cpp comments">// Reverse</code></div><div class="line number107 index106 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number108 index107 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number109 index108 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_left = </code><code class="cpp keyword bold">false</code><code class="cpp plain">; </code><code class="cpp comments">// Forward</code></div><div class="line number110 index109 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number111 index110 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number112 index111 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Direction_left) {</code></div><div class="line number113 index112 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(left_wheel_tick_count == encoder_maximum) {</code></div><div class="line number114 index113 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count = encoder_minimum;</code></div><div class="line number115 index114 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number116 index115 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number117 index116 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count++;&nbsp; </code></div><div class="line number118 index117 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp; </code></div><div class="line number119 index118 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number120 index119 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number121 index120 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(left_wheel_tick_count == encoder_minimum) {</code></div><div class="line number122 index121 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count = encoder_maximum;</code></div><div class="line number123 index122 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number124 index123 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number125 index124 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count--;&nbsp; </code></div><div class="line number126 index125 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number127 index126 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number128 index127 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div></div>


<p>Upload the program to the Arduino.</p>



<p>If you open the serial monitor, you will see the accumulated tick 
count. Once the tick count gets outside the range of what a 16-bit 
integer can handle, it rolls over to either the minimum -32,768 or 
maximum 32,767 of the range.</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/1-tick-counter.jpg" alt="1-tick-counter" class="wp-image-11346" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/1-tick-counter.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/1-tick-counter-293x300.jpg 293w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="614"></figure></div>



<h2><span class="ez-toc-section" id="Convert_the_Code_to_a_ROS_Node"></span>Convert the Code to a ROS Node<span class="ez-toc-section-end"></span></h2>



<p>Now that we see how to print tick counts for the right and left 
motors, let’s convert the code from the previous section into a ROS 
node. We want our node to publish tick counts for the right and left 
wheels of the robot to ROS topics named<strong> right_ticks</strong> and <strong>left_ticks</strong>.</p>



<p>Open the Arduino IDE, and write the following program. The name of my program is <strong>tick_publisher.ino</strong>.</p><div style="width: 100%; height: auto; clear: both; text-align: center;" class="google-auto-placed ap_container"><ins style="display: block; margin: auto; background-color: transparent; height: 280px;" data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-8920854049012025" data-adsbygoogle-status="done"><ins id="aswift_8_expand" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_8_anchor" style="border: medium none; height: 280px; width: 600px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block;"></ins></ins></ins></div>


<div class="wp-block-syntaxhighlighter-code "><div><div id="highlighter_131634" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">/*</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* Author: Automatic Addison</code></div><div class="line number3 index2 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* Website: <a href="https://automaticaddison.com/">https://automaticaddison.com</a></code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* Description: ROS node that publishes the accumulated ticks for each wheel</code></div><div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* (right_ticks and left_ticks topics) using the built-in encoder </code></div><div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* (forward = positive; reverse = negative) </code></div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">*/</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#include &lt;ros.h&gt;</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#include &lt;std_msgs/Int16.h&gt;</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="cpp comments">// Handles startup and shutdown of ROS</code></div><div class="line number13 index12 alt2"><code class="cpp plain">ros::NodeHandle nh;</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="cpp comments">// Encoder output to Arduino Interrupt pin. Tracks the tick count.</code></div><div class="line number16 index15 alt1"><code class="cpp preprocessor">#define ENC_IN_LEFT_A 2</code></div><div class="line number17 index16 alt2"><code class="cpp preprocessor">#define ENC_IN_RIGHT_A 3</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="cpp comments">// Other encoder output to Arduino to keep track of wheel direction</code></div><div class="line number20 index19 alt1"><code class="cpp comments">// Tracks the direction of rotation.</code></div><div class="line number21 index20 alt2"><code class="cpp preprocessor">#define ENC_IN_LEFT_B 4</code></div><div class="line number22 index21 alt1"><code class="cpp preprocessor">#define ENC_IN_RIGHT_B 11</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="cpp comments">// True = Forward; False = Reverse</code></div><div class="line number25 index24 alt2"><code class="cpp plain">boolean Direction_left = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number26 index25 alt1"><code class="cpp plain">boolean Direction_right = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="cpp comments">// Minumum and maximum values for 16-bit integers</code></div><div class="line number29 index28 alt2"><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">encoder_minimum = -32768;</code></div><div class="line number30 index29 alt1"><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">encoder_maximum = 32767;</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="cpp comments">// Keep track of the number of wheel ticks</code></div><div class="line number33 index32 alt2"><code class="cpp plain">std_msgs::Int16 right_wheel_tick_count;</code></div><div class="line number34 index33 alt1"><code class="cpp plain">ros::Publisher rightPub(</code><code class="cpp string">"right_ticks"</code><code class="cpp plain">, &amp;right_wheel_tick_count);</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="cpp plain">std_msgs::Int16 left_wheel_tick_count;</code></div><div class="line number37 index36 alt2"><code class="cpp plain">ros::Publisher leftPub(</code><code class="cpp string">"left_ticks"</code><code class="cpp plain">, &amp;left_wheel_tick_count);</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="cpp comments">// 100ms interval for measurements</code></div><div class="line number40 index39 alt1"><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">interval = 100;</code></div><div class="line number41 index40 alt2"><code class="cpp color1 bold">long</code> <code class="cpp plain">previousMillis = 0;</code></div><div class="line number42 index41 alt1"><code class="cpp color1 bold">long</code> <code class="cpp plain">currentMillis = 0;</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="cpp comments">// Increment the number of ticks</code></div><div class="line number45 index44 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">right_wheel_tick() {</code></div><div class="line number46 index45 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Read the value for the encoder for the right wheel</code></div><div class="line number48 index47 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">val = digitalRead(ENC_IN_RIGHT_B);</code></div><div class="line number49 index48 alt2">&nbsp;</div><div class="line number50 index49 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(val == LOW) {</code></div><div class="line number51 index50 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_right = </code><code class="cpp keyword bold">false</code><code class="cpp plain">; </code><code class="cpp comments">// Reverse</code></div><div class="line number52 index51 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number53 index52 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number54 index53 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_right = </code><code class="cpp keyword bold">true</code><code class="cpp plain">; </code><code class="cpp comments">// Forward</code></div><div class="line number55 index54 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number56 index55 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number57 index56 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Direction_right) {</code></div><div class="line number58 index57 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number59 index58 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(right_wheel_tick_count.data == encoder_maximum) {</code></div><div class="line number60 index59 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count.data = encoder_minimum;</code></div><div class="line number61 index60 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number62 index61 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number63 index62 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count.data++;&nbsp; </code></div><div class="line number64 index63 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp;&nbsp; </code></div><div class="line number65 index64 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number66 index65 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number67 index66 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(right_wheel_tick_count.data == encoder_minimum) {</code></div><div class="line number68 index67 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count.data = encoder_maximum;</code></div><div class="line number69 index68 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number70 index69 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number71 index70 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">right_wheel_tick_count.data--;&nbsp; </code></div><div class="line number72 index71 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number73 index72 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number74 index73 alt1"><code class="cpp plain">}</code></div><div class="line number75 index74 alt2">&nbsp;</div><div class="line number76 index75 alt1"><code class="cpp comments">// Increment the number of ticks</code></div><div class="line number77 index76 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">left_wheel_tick() {</code></div><div class="line number78 index77 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number79 index78 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Read the value for the encoder for the left wheel</code></div><div class="line number80 index79 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">val = digitalRead(ENC_IN_LEFT_B);</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(val == LOW) {</code></div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_left = </code><code class="cpp keyword bold">true</code><code class="cpp plain">; </code><code class="cpp comments">// Reverse</code></div><div class="line number84 index83 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number85 index84 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number86 index85 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Direction_left = </code><code class="cpp keyword bold">false</code><code class="cpp plain">; </code><code class="cpp comments">// Forward</code></div><div class="line number87 index86 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number88 index87 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number89 index88 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Direction_left) {</code></div><div class="line number90 index89 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(left_wheel_tick_count.data == encoder_maximum) {</code></div><div class="line number91 index90 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count.data = encoder_minimum;</code></div><div class="line number92 index91 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number93 index92 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count.data++;&nbsp; </code></div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp; </code></div><div class="line number96 index95 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number97 index96 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number98 index97 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(left_wheel_tick_count.data == encoder_minimum) {</code></div><div class="line number99 index98 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count.data = encoder_maximum;</code></div><div class="line number100 index99 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number101 index100 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code> <code class="cpp plain">{</code></div><div class="line number102 index101 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">left_wheel_tick_count.data--;&nbsp; </code></div><div class="line number103 index102 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number104 index103 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number105 index104 alt2"><code class="cpp plain">}</code></div><div class="line number106 index105 alt1">&nbsp;</div><div class="line number107 index106 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">setup() {</code></div><div class="line number108 index107 alt1">&nbsp;</div><div class="line number109 index108 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Set pin states of the encoder</code></div><div class="line number110 index109 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_LEFT_A , INPUT_PULLUP);</code></div><div class="line number111 index110 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_LEFT_B , INPUT);</code></div><div class="line number112 index111 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_RIGHT_A , INPUT_PULLUP);</code></div><div class="line number113 index112 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">pinMode(ENC_IN_RIGHT_B , INPUT);</code></div><div class="line number114 index113 alt1">&nbsp;</div><div class="line number115 index114 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Every time the pin goes high, this is a tick</code></div><div class="line number116 index115 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">attachInterrupt(digitalPinToInterrupt(ENC_IN_LEFT_A), left_wheel_tick, RISING);</code></div><div class="line number117 index116 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">attachInterrupt(digitalPinToInterrupt(ENC_IN_RIGHT_A), right_wheel_tick, RISING);</code></div><div class="line number118 index117 alt1">&nbsp;</div><div class="line number119 index118 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// ROS Setup</code></div><div class="line number120 index119 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">nh.getHardware()-&gt;setBaud(115200);</code></div><div class="line number121 index120 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">nh.initNode();</code></div><div class="line number122 index121 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">nh.advertise(rightPub);</code></div><div class="line number123 index122 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">nh.advertise(leftPub);</code></div><div class="line number124 index123 alt1"><code class="cpp plain">}</code></div><div class="line number125 index124 alt2">&nbsp;</div><div class="line number126 index125 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">loop() {</code></div><div class="line number127 index126 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number128 index127 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Record the time</code></div><div class="line number129 index128 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">currentMillis = millis();</code></div><div class="line number130 index129 alt1">&nbsp;</div><div class="line number131 index130 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// If 100ms have passed, print the number of ticks</code></div><div class="line number132 index131 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(currentMillis - previousMillis &gt; interval) {</code></div><div class="line number133 index132 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number134 index133 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">previousMillis = currentMillis;</code></div><div class="line number135 index134 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number136 index135 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">rightPub.publish( &amp;right_wheel_tick_count );</code></div><div class="line number137 index136 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">leftPub.publish( &amp;left_wheel_tick_count );</code></div><div class="line number138 index137 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">nh.spinOnce();</code></div><div class="line number139 index138 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number140 index139 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div></div>


<p>Upload the code to your Arduino using the right arrow button in the upper left of your screen.&nbsp;</p>



<p>Quit the Arduino IDE.</p>



<h2><span class="ez-toc-section" id="Run_the_Tick_Publisher"></span>Run the Tick Publisher<span class="ez-toc-section-end"></span></h2>



<p>Open a new terminal window and type:</p>



<pre class="wp-block-preformatted">roscore</pre>



<p>In a new terminal window, launch the ROS serial server.&nbsp;</p>



<pre class="wp-block-preformatted">rosrun rosserial_python serial_node.py _port:=/dev/ttyACM0 _baud:=115200</pre>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_004.jpg" alt="2021-05-11-22.36.41" class="wp-image-11361" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_004.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_008.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<p>Open a new terminal window, and check out the active ROS topics.</p>



<pre class="wp-block-preformatted">rostopic list</pre>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_003.jpg" alt="2021-05-11-22.34.09" class="wp-image-11355" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_003.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_007.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<p>You can see the right wheel tick count by typing the following command:</p>



<pre class="wp-block-preformatted">rostopic echo /right_ticks</pre>



<p>You can see the left wheel tick count by typing the following command:</p>



<pre class="wp-block-preformatted">rostopic echo /left_ticks</pre>



<p>Spin the wheels, and see the numbers go up and down.</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_002.jpg" alt="2021-05-11-22.35.57" class="wp-image-11359" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_002.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_006.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22.jpg" alt="2021-05-11-22.35.50" class="wp-image-11357" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22.jpg 600w, How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/2021-05-11-22_005.jpg 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" width="600" height="450"></figure></div>



<h2><span class="ez-toc-section" id="Create_a_Launch_File"></span>Create a Launch File<span class="ez-toc-section-end"></span></h2>



<p>Let’s start accumulating our ROS nodes in a launch file to make things easier for us down the road.</p>



<p>Open a new terminal window, and type the following command.</p>



<pre class="wp-block-preformatted">cd ~/catkin_ws/src/jetson_nano_bot</pre>



<p>Create a package.&nbsp;</p>



<pre class="wp-block-preformatted">catkin_create_pkg launch_jetson_nano_bot rospy roscpp std_msgs sensor_msgs geometry_msgs tf</pre>



<p>Move to the package.</p>



<pre class="wp-block-preformatted">cd launch_jetson_nano_bot</pre>



<p>Create a folder to contain launch files.</p>



<pre class="wp-block-preformatted">mkdir launch</pre>



<p>Now open a new terminal and move to your catkin workspace.</p>



<pre class="wp-block-preformatted">cd ~/catkin_ws/</pre>



<p>Compile the package.</p>



<pre class="wp-block-preformatted">catkin_make --only-pkg-with-deps &nbsp;launch_jetson_nano_bot</pre>



<p>Move inside the package.</p>



<pre class="wp-block-preformatted">roscd launch_jetson_nano_bot</pre>



<p>Go inside the CMakeLists.txt file.</p>



<pre class="wp-block-preformatted">gedit CMakeLists.txt</pre>



<p>Remove the hashtag on line 5 to make sure that C++11 support is enabled.</p>



<p>Save and close the file.</p>



<p>Move into the launch folder.</p>



<pre class="wp-block-preformatted">cd launch</pre>



<p>Create a new launch file.</p>



<pre class="wp-block-preformatted">gedit jetson_nanobot.launch</pre>



<p>Add the following code to a launch file.</p>


<div class="wp-block-syntaxhighlighter-code "><div><div id="highlighter_11032" class="syntaxhighlighter  xml"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">launch</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">node</code> <code class="xml color1">pkg</code><code class="xml plain">=</code><code class="xml string">"rosserial_python"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"serial_node.py"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"serial_node"</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">param</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"port"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"/dev/ttyACM0"</code><code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">param</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"baud"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"115200"</code><code class="xml plain">/&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">node</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">launch</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div></div>


<p>Save the file, and close it.</p>



<p>Change the permissions of the launch file we just created. It will ask you for your password.</p>



<pre class="wp-block-preformatted">sudo chmod +x jetson_nanobot.launch</pre>



<p>Open a new terminal window, and go to the home directory.</p>



<pre class="wp-block-preformatted">cd</pre>



<p>Launch the launch file.</p>



<pre class="wp-block-preformatted">roslaunch launch_jetson_nano_bot jetson_nanobot.launch</pre>



<p>If you open a new terminal window, and type the following command, you will be able to see the active topics.</p>



<pre class="wp-block-preformatted">rostopic list</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt="" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/922f86e5404970e513ffabee6f5a15e3_002.png" srcset="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/922f86e5404970e513ffabee6f5a15e3.png 2x" class="avatar avatar-49 photo" loading="lazy" width="49" height="49"><span class="screen-reader-text">Author </span> <a class="url fn n" href="https://automaticaddison.com/author/automaticaddison/">automaticaddison</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="https://automaticaddison.com/how-to-publish-wheel-encoder-tick-data-using-ros-and-arduino/" rel="bookmark"><time class="entry-date published" datetime="2021-06-09T12:55:53-07:00">June 9, 2021</time><time class="updated" datetime="2021-06-09T14:02:14-07:00">June 9, 2021</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="https://automaticaddison.com/category/robotics/" rel="category tag">Robotics</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="https://automaticaddison.com/tag/ground/" rel="tag">ground</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-11324 -->

	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://automaticaddison.com/how-to-move-the-turtlesim-robot-to-goal-locations-ros/" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">How to Move the Turtlesim Robot to Goal Locations – ROS</span></a></div><div class="nav-next"><a href="https://automaticaddison.com/how-to-publish-imu-data-using-ros-and-the-bno055-imu-sensor/" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">How to Publish IMU Data Using ROS and the BNO055 IMU Sensor</span></a></div></div>
	</nav>
	</main><!-- .site-main -->

	
</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area">
		<section id="search-2" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://automaticaddison.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search …" name="s">
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section>
		<section id="recent-posts-3" class="widget widget_recent_entries">
		<h2 class="widget-title">Recent Posts</h2><nav aria-label="Recent Posts">
		<ul>
											<li>
					<a href="https://automaticaddison.com/how-to-display-the-path-to-a-ros-2-package/">How to Display the Path to a ROS 2 Package</a>
									</li>
											<li>
					<a href="https://automaticaddison.com/how-to-display-launch-arguments-for-a-launch-file-in-ros2/">How To Display Launch Arguments for a Launch File in ROS2</a>
									</li>
											<li>
					<a href="https://automaticaddison.com/getting-started-with-opencv-in-ros-2-galactic-python/">Getting Started With OpenCV in ROS 2 Galactic (Python)</a>
									</li>
											<li>
					<a href="https://automaticaddison.com/connect-your-built-in-webcam-to-ubuntu-20-04-on-a-virtualbox/">Connect Your Built-in Webcam to Ubuntu 20.04 on a VirtualBox</a>
									</li>
											<li>
					<a href="https://automaticaddison.com/urdf-vs-sdf-link-pose-joint-pose-visual-collision/">URDF vs. SDF – Link Pose, Joint Pose, Visual &amp; Collision</a>
									</li>
					</ul>

		</nav></section><section style="position: static; margin-top: 0px; margin-bottom: 0px; width: 300px; height: 745px; display: block;"></section><section id="custom_html-3" class="widget_text widget widget_custom_html FixedWidget__fixed_widget" style="top: 0px; position: fixed; transition: transform 0.5s ease 0s; width: 300px;"><h2 class="widget-title">Connect With Me on LinkedIn!</h2><div class="textwidget custom-html-widget"><p>Welcome to AutomaticAddison.com, the largest robotics education blog online (~50,000 unique visitors per month)!</p><p> My goal is to meet everyone in the world who loves robotics. <strong><a href="https://www.linkedin.com/in/addisonsearscollins/">Connect with me on&nbsp;LinkedIn</a></strong> if you found my information useful to you. Also <strong><a href="https://www.linkedin.com/company/automaticaddison">follow my LinkedIn page</a> where I post cool robotics-related content. </strong>Don't be shy! I’d love to hear from you!</p>
<p><img src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/addison-humanoid-ces-2020.jpg" alt="Me" width="300" height="399"></p></div></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer">
							<nav class="main-navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-32"><a href="https://automaticaddison.com/">Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="https://automaticaddison.com/about-me/">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7921"><a href="https://automaticaddison.com/contact/">Contact Me</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
							<nav class="social-navigation" aria-label="Footer Social Links Menu">
					<div class="menu-social-links-container"><ul id="menu-social-links-1" class="social-links-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-37"><a href="https://www.linkedin.com/in/addisonsearscollins/"><span class="screen-reader-text">LinkedIn</span></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-65"><a href="https://www.youtube.com/channel/UCyR7hy8XDVnqzBhdpRirOtg"><span class="screen-reader-text">YouTube</span></a></li>
</ul></div>				</nav><!-- .social-navigation -->
			
			<div class="site-info">
								<span class="site-title"><a href="https://automaticaddison.com/" rel="home">Automatic Addison</a></span>
								<a href="https://wordpress.org/" class="imprint">
					Proudly powered by WordPress				</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/shCore.js" id="syntaxhighlighter-core-js"></script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/shBrushCpp.js" id="syntaxhighlighter-brush-cpp-js"></script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/shBrushXml.js" id="syntaxhighlighter-brush-xml-js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://automaticaddison.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://automaticaddison.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/skip-link-focus-fix.js" id="twentysixteen-skip-link-focus-fix-js"></script>
<script id="twentysixteen-script-js-extra">
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
</script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/functions.js" id="twentysixteen-script-js"></script>
<script id="q2w3_fixed_widget-js-extra">
var q2w3_sidebar_options = [{"sidebar":"sidebar-1","use_sticky_position":false,"margin_top":0,"margin_bottom":0,"stop_elements_selectors":"","screen_max_width":0,"screen_max_height":0,"widgets":["#custom_html-3"]}];
</script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/frontend.js" id="q2w3_fixed_widget-js"></script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jquery_003.js" id="jquery-smooth-scroll-js"></script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/js_002.js" id="js-cookie-js"></script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/jquery.js" id="jquery-sticky-kit-js"></script>
<script id="ez-toc-js-js-extra">
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"auto","scroll_offset":"30"};
</script>
<script src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/front.js" id="ez-toc-js-js"></script>






<ins class="adsbygoogle adsbygoogle-noablate" style="display: none !important;" data-adsbygoogle-status="done" data-ad-status="unfilled"><ins id="aswift_0_expand" style="border: medium none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_0_anchor" style="border: medium none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:undefinedpx !IMPORTANT;height:undefinedpx !IMPORTANT" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/ads_006.html" data-google-container-id="a!1" data-load-complete="true" frameborder="0"></iframe></ins></ins></ins><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: block; width: 100% !important; height: 129px !important; bottom: 0px; clear: none !important; float: none !important; left: 0px; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1; overflow: visible !important; padding: 0px !important; position: fixed; right: auto !important; top: auto !important; vertical-align: baseline !important; visibility: visible !important; z-index: 2147483647; background: rgb(250, 250, 250) none repeat scroll 0% 0% !important;" data-anchor-status="displayed" data-ad-status="filled" data-anchor-shown="true"><ins style="inset: auto !important; clear: none !important; display: block !important; float: none !important; height: 5px !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; position: relative !important; vertical-align: baseline !important; visibility: visible !important; width: auto !important; z-index: 1 !important; background-color: rgb(250, 250, 250) !important; box-shadow: rgba(0, 0, 0, 0.2) 0px -1px 5px -1px, rgba(0, 0, 0, 0.1) 0px 1px 2px -1px !important;" class="ee"><span style="display: block !important; width: 80px !important; height: 45px !important; bottom: 0px !important; left: 0% !important; pointer-events: none !important;"><svg style="margin: 0px !important; position: absolute !important; bottom: 0px !important; left: 0% !important; display: block !important; width: 80px !important; height: 30px !important; transform: none !important; pointer-events: initial !important;"><defs><filter id="dropShadowTop" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feComponentTransfer in="SourceAlpha" result="TransferredAlpha"><feFuncR type="discrete" tableValues="0.5"></feFuncR><feFuncG type="discrete" tableValues="0.5"></feFuncG><feFuncB type="discrete" tableValues="0.5"></feFuncB></feComponentTransfer><feGaussianBlur in="TransferredAlpha" stdDeviation="2"></feGaussianBlur><feOffset dx="0" dy="0" result="offsetblur"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><path d="M0,26 L0,6 A6,6 0 0,1 6,1 L50,1 A6,6 0 0,1 56,6 L56,20 A6,6 0 0,0 62,26 Z" stroke="#FAFAFA" stroke-width="1" fill="#FAFAFA" style="filter: url(&quot;#dropShadowTop&quot;);"></path><rect x="0" y="25" width="80" height="5" style="fill: rgb(250, 250, 250);"></rect><g class="down" stroke="#616161" stroke-width="2px" stroke-linecap="square"><line x1="22" y1="12" x2="28" y2="18"></line><line x1="28" y1="18" x2="34" y2="12"></line></g></svg></span></ins><ins id="aswift_10_expand" style="border: medium none !important; height: 124px !important; width: 100% !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: inline-table !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_10_anchor" style="border: medium none !important; height: 124px !important; width: 100% !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: block !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><iframe id="aswift_10" name="aswift_10" style="width: 1005px !important; height: 124px !important; display: block; margin: 0px auto;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/zrt_lookup.html" data-google-container-id="a!b" data-google-query-id="CP74n_aw-PYCFUzV7QodezcAlw" data-load-complete="true" width="1005" height="124" frameborder="0"></iframe></ins></ins></ins><iframe src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/aframe.html" style="display: none;" width="0" height="0"></iframe></body><iframe id="google_esf" name="google_esf" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/zrt_lookup_002.html" style="display: none;"></iframe><ins class="adsbygoogle adsbygoogle-noablate" style="display: none !important; width: 100vw !important; height: 100vh !important; inset: 0px auto auto 0px !important; clear: none !important; float: none !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; position: fixed !important; vertical-align: baseline !important; visibility: visible !important; z-index: 2147483647 !important; background: transparent none repeat scroll 0% 0% !important;" data-adsbygoogle-status="done" aria-hidden="true" data-ad-status="filled" data-vignette-loaded="true"><ins id="aswift_9_expand" style="border: medium none !important; height: 100vh !important; width: 100vw !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: inline-table !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;" tabindex="0" title="Advertisement" aria-label="Advertisement"><ins id="aswift_9_anchor" style="border: medium none !important; height: 100vh !important; width: 100vw !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: block !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><iframe id="aswift_9" name="aswift_9" style="width: 100vw !important; height: 100vh !important; inset: 0px auto auto 0px !important; position: absolute !important; clear: none !important; display: inline !important; float: none !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; vertical-align: baseline !important; visibility: visible !important; z-index: auto !important;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="How%20to%20Publish%20Wheel%20Encoder%20Tick%20Data%20Using%20ROS%20and%20Arduino%20%E2%80%93%20Automatic%20Addison_files/zrt_lookup_003.html" data-google-container-id="a!a" data-google-query-id="CP34n_aw-PYCFUzV7QodezcAlw" data-load-complete="true" width="" height="" frameborder="0"></iframe></ins></ins></ins></html>
<!-- Dynamic page generated in 0.507 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2022-04-03 10:08:13 -->
<!-- super cache -->